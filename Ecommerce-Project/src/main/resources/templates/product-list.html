<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org"
	xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
	layout:decorate="~{admin-template}">
<head>
<title>Products</title>
</head>

<body>

	<div class="container-fluid px-4" layout:fragment="page-content">
		<h1 class="mt-4">Products</h1>
		<div class="card mb-4">
			<div class="card-body">
				DataTables is a third party plugin that is used to generate the demo
				table below. For more information about DataTables, please visit the
				<a target="_blank" href="https://datatables.net/">official
					DataTables documentation</a>
				.
			</div>
		</div>
		<div class="card mb-4">
			<div class="card-header">
				<i class="fas fa-table me-1"></i> Product Information
				<a th:href="@{/admin/product/add}"
					class="float-right">Add New Product</a>
			</div>
			<div class="card-body">
				<table id="datatablesSimple">
					<thead>
						<tr>
							<th>Code</th>
							<th>Identifier</th>
							<th>Description</th>
							<th>Price</th>
							<th>Category</th>
							<th>Added Date</th>
							<th>Last Updated</th>
						</tr>
					</thead>
					<tbody>
						<th:block th:each="prod: ${products}">
							<tr
								th:onclick="'window.location.href=\'/admin/product/edit/' + ${prod.id} + '\''">
								<td th:text="${prod.id!= null} ? ${prod.id} : '-'"></td>
								<td th:text="${prod.name != null} ? ${prod.name} : '-'"></td>
								<td
									th:text="${prod.description != null} ? ${prod.description} : '-'"></td>
								<td th:text="${prod.price != null} ? ${prod.price } : '-'"></td>
								<td th:text="${prod.category.name}"></td>
								<td
									th:text="${prod.created_at != null} ? ${prod.created_at } : '-'"></td>
								<td
									th:text="${prod.updated_at != null} ? ${prod.updated_at } : '-'"></td>
							</tr>
						</th:block>
					</tbody>
				</table>
			</div>
		</div>
	</div>

	<th:block layout:fragment="js">
		<script
			src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js"
			crossorigin="anonymous"></script>
		<script th:src="@{/js/scripts.js}"></script>
		<script src="https://cdn.jsdelivr.net/npm/simple-datatables@latest"
			crossorigin="anonymous"></script>
		<script th:src="@{/js/datatables-simple-demo.js}"></script>
	</th:block>
</body>
</html>